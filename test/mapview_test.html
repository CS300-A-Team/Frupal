<html>
<title> A-Team Frupal </title>
<head>
<script src="../js/Tile.js"></script>
<script src="../js/MessageModel.js"></script>
<script src="../js/MessageView.js"></script>
<script src="../js/MapView.js"></script>
<script src="../js/mapModel.js"></script>
<script src="../js/CharModel.js"></script>
<script src="../js/CharStatusView.js"></script>
<script src="../js/Controller.js"></script>
<script src="../js/FrupalModel.js"></script>
<script>

function loadMap(){
    var modelJSON = localStorage.getItem("map");
    var fmodel= new FrupalModel();
    return Object.assign( JSON.parse(modelJSON),fmodel );
}

var model = loadMap();

let controller = new Controller( model.charModel, model.mapModel, new MessageModel("Start the game") );


function north(){
  controller.moveNorth();
}

function south(){
  controller.moveSouth();
}

function east(){
  controller.moveEast();
}

function west(){
  controller.moveWest();
}
</script>
</head>

<head>
<link rel ="stylesheet" href="../styles.css">
</head>
<body>
  <div class="container">
    <h1> FRUPAL - the game... </h1>
    <p>
    <form name="buttons" class="flex">
      <div class="form-row">
         <input type="button" value="NORTH" onClick="north()">
      </div>
      <div class="form-row">
        <input type="button" value="WEST" onClick="west()">
        <input type="button" value="EAST" onClick="east()">
      </div>
      <div class="form-row">
        <input type="button" value="SOUTH" onClick="south()">
      </div>
    </form>
  </div>
  <div id="map"> </div>
  <div id="message"> </div>
  <div>Current Location: <span id="location"> </span></div>
  <div>Energy: <span id="energy"> </span></div>
  <div>Whiffles: <span id="whiffles"> </span></div>
<!-- <script type="text/javascript" src='scripts.js'></script> -->
<script>
    controller.initGame();
</script>
</body>
</html>
